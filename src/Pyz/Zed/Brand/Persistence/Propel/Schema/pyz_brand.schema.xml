<?xml version="1.0"?>
<database xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          name="zed"
          xsi:noNamespaceSchemaLocation="http://static.spryker.com/schema-01.xsd"
          namespace="Orm\Zed\Brand\Persistence"
          package="src.Orm.Zed.Brand.Persistence">

    <!-- TODO define your tables here -->
    <table name="spy_brand" idMethod="native">
        <column name="id_brand" required="true" type="INTEGER" autoIncrement="true" primaryKey="true"/>
        <column name="name" type="VARCHAR" size="255" required="true"/>
        <column name="description" type="LONGVARCHAR" size="255" />
        <column name="logo" required="false" type="VARCHAR" size="255"/>
        <column name="is_searchable" default="true" type="BOOLEAN"/>
        <column name="is_highlight" default="true" type="BOOLEAN"/>
        <id-method-parameter value="spy_brand_pk_seq"/>
        <behavior name="event">
            <parameter name="spy_brand_all" column="*"/>
        </behavior>
    </table>
    <table name="spy_brand_attribute" idMethod="native">
        <column name="id_brand_attribute" required="true" type="INTEGER" autoIncrement="true" primaryKey="true"/>
        <column name="fk_brand" required="true" type="INTEGER"/>
        <column name="meta_description" required="false" type="LONGVARCHAR"/>
        <column name="fk_locale" required="true" type="INTEGER"/>
        <behavior name="timestampable"/>
        <foreign-key foreignTable="spy_locale" phpName="Locale">
            <reference local="fk_locale" foreign="id_locale"/>
        </foreign-key>
        <foreign-key foreignTable="spy_brand" phpName="Brand" refPhpName="Attribute">
            <reference foreign="id_brand" local="fk_brand"/>
        </foreign-key>
        <id-method-parameter value="spy_brand_attribute_pk_seq"/>
    </table>

    <table name="spy_product_brand" idMethod="native">
        <column name="id_product_brand" required="true" type="INTEGER" autoIncrement="true" primaryKey="true"/>
        <column name="fk_brand" required="true" type="INTEGER"/>
        <column name="fk_product_abstract" required="true" type="INTEGER"/>
        <foreign-key name="spy_product_brand-fk_brand" foreignTable="spy_brand" phpName="SpyBrand" onDelete="CASCADE">
            <reference foreign="id_brand" local="fk_brand"/>
        </foreign-key>
        <foreign-key name="spy_product_brand-fk_product_abstract" foreignTable="spy_product_abstract" phpName="SpyProductAbstract" onDelete="CASCADE">
            <reference foreign="id_product_abstract" local="fk_product_abstract"/>
        </foreign-key>
        <id-method-parameter value="spy_product_brand_pk_seq"/>
    </table>
</database>
